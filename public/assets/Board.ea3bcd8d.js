var Xn=Object.defineProperty,Gn=Object.defineProperties;var qn=Object.getOwnPropertyDescriptors;var Ye=Object.getOwnPropertySymbols;var Un=Object.prototype.hasOwnProperty,Yn=Object.prototype.propertyIsEnumerable;var We=(c,s,g)=>s in c?Xn(c,s,{enumerable:!0,configurable:!0,writable:!0,value:g}):c[s]=g,j=(c,s)=>{for(var g in s||(s={}))Un.call(s,g)&&We(c,g,s[g]);if(Ye)for(var g of Ye(s))Yn.call(s,g)&&We(c,g,s[g]);return c},Y=(c,s)=>Gn(c,qn(s));import{S as Wn,U as Ke,P as Je,F as ct,o as O,k as B,s as h,t as L,V as le,v as ut,z as nt,A as ot,C as Ft,q as Qe,W as Kn,x as H,G as rt,I as Ze,p as M,y as ft,w as Q,n as Z,H as Ht,X as tn,E as Jn,J as Qn,K as Zn,h as en}from"./vendor.bd38f07c.js";import{d as to,m as X,_ as it,K as nn,E as eo,a as no}from"./index.3aeb53d5.js";var lt={exports:{}};(function(c,s){(function(g,S){S(s)})(Wn,function(g){var S,v,w="smooth-dnd-container-instance",I="smooth-dnd-draggable-wrapper",_="animated",N="__smooth_dnd_draggable_translation_value",R="__smooth_dnd_draggable_visibility_value",$="smooth-dnd-ghost",G="smooth-dnd-container",ae="smooth-dnd-extra-size-for-insertion",Xt="smooth-dnd-stretcher-element",tt="smooth-dnd-stretcher-instance",Et="smooth-dnd-disable-touch-action",_t="smooth-dnd-no-user-select",se="smooth-dnd-prevent-auto-scroll-class",Gt="smooth-dnd-drop-preview-default-class",qt="smooth-dnd-drop-preview-inner-class",Dt="smooth-dnd-drop-preview-constant-class",Ut="smooth-dnd-drop-preview-flex-container-class",cn=Object.freeze({containerInstance:w,defaultGroupName:"@@smooth-dnd-default-group@@",wrapperClass:I,defaultGrabHandleClass:"smooth-dnd-default-grap-handle",animationClass:_,translationValue:N,visibilityValue:R,ghostClass:$,containerClass:G,extraSizeForInsertion:ae,stretcherElementClass:Xt,stretcherElementInstance:tt,isDraggableDetached:"smoth-dnd-is-draggable-detached",disbaleTouchActions:Et,noUserSelectClass:_t,preventAutoScrollClass:se,dropPlaceholderDefaultClass:Gt,dropPlaceholderInnerClass:qt,dropPlaceholderWrapperClass:Dt,dropPlaceholderFlexContainerClass:Ut}),mt={groupName:void 0,behaviour:"move",orientation:"vertical",getChildPayload:void 0,animationDuration:250,autoScrollEnabled:!0,shouldAcceptDrop:void 0,shouldAnimateDrop:void 0};function Yt(t){return(Yt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function T(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function de(t){return function(e){if(Array.isArray(e)){for(var n=0,o=new Array(e.length);n<e.length;n++)o[n]=e[n];return o}}(t)||function(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(v=S||(S={})).x="x",v.y="y",v.xy="xy";function ce(t,e,n){return n==="x"?{left:Math.max(t.left,e.left),top:t.top,right:Math.min(t.right,e.right),bottom:t.bottom}:{left:t.left,top:Math.max(t.top,e.top),right:t.right,bottom:Math.min(t.bottom,e.bottom)}}function un(t){var e=window.getComputedStyle(t),n=e.overflow;if(n==="auto"||n==="scroll")return S.xy;var o=e["overflow-x"],r=o==="auto"||o==="scroll",l=e["overflow-y"],u=l==="auto"||l==="scroll";return r&&u?S.xy:r?S.x:u?S.y:null}function ue(t,e){var n=window.getComputedStyle(t),o=n.overflow,r=n["overflow-".concat(e)];return o==="auto"||o==="scroll"||r==="auto"||r==="scroll"}var fn=function(t,e){return{left:Math.max(t.left,e.left),top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom)}},fe=function(t){var e=t.getBoundingClientRect(),n={left:e.left,right:e.right,top:e.top,bottom:e.bottom};if(It(t,"x")&&!St(t,"x")){var o=n.right-n.left;n.right=n.right+t.scrollWidth-o}if(It(t,"y")&&!St(t,"y")){var r=n.bottom-n.top;n.bottom=n.bottom+t.scrollHeight-r}return n},St=function(t,e){var n=window.getComputedStyle(t),o=n.overflow,r=n["overflow-".concat(e)];return o==="auto"||o==="scroll"||o==="hidden"||r==="auto"||r==="scroll"||r==="hidden"},It=function(t,e){return e==="x"?t.scrollWidth>t.clientWidth:t.scrollHeight>t.clientHeight},me=function(t,e){var n=t,o=e||fe(t);for(n=t.parentElement;n;)It(n,"x")&&St(n,"x")&&(o=ce(o,n.getBoundingClientRect(),"x")),It(n,"y")&&St(n,"y")&&(o=ce(o,n.getBoundingClientRect(),"y")),n=n.parentElement;return o},mn=function(t,e){for(var n=t;n;){if(n[w]){var o=function(){var r=n[w];if(e.some(function(l){return l===r}))return{v:r}}();if(Yt(o)==="object")return o.v}n=n.parentElement}return null},pt=function(t,e){for(var n=t;n;){if(n.matches(e))return n;n=n.parentElement}return null},Wt=function(t,e){return-1<t.className.split(" ").map(function(n){return n}).indexOf(e)},q=function(t,e){if(t){var n=t.className.split(" ").filter(function(o){return o});n.indexOf(e)===-1&&(n.unshift(e),t.className=n.join(" "))}},Ot=function(t,e){if(t){var n=t.className.split(" ").filter(function(o){return o&&o!==e});t.className=n.join(" ")}},pn=function(t,e){return t.removeChild(t.children[e])},gn=function(t,e,n){n>=t.children.length?t.appendChild(e):t.insertBefore(e,t.children[n])},hn=function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():window.document.selection&&window.document.selection.empty()},pe=function(t){if(t){var e=window.getComputedStyle(t);if(e)return e.cursor}return null};function Kt(t){return!(t.bottom<=t.top||t.right<=t.left)}function ge(t){var e=t.element,n=t.draggables;return function(o,r){var l=o,u=l.removedIndex,d=l.addedIndex,m=l.droppedElement,i=null;if(u!==null&&(i=pn(e,u),n.splice(u,1)),d!==null){var a=window.document.createElement("div");a.className="".concat(I),a.appendChild(i&&i.firstElementChild?i.firstElementChild:m),gn(e,a,d),d>=n.length?n.push(a):n.splice(d,0,a)}r&&r(o)}}var vn=Object.freeze({domDropHandler:ge,reactDropHandler:function(){return{handler:function(){return function(t,e){e&&e(t)}}}}}),bn={size:"offsetWidth",distanceToParent:"offsetLeft",translate:"transform",begin:"left",end:"right",dragPosition:"x",scrollSize:"scrollWidth",offsetSize:"offsetWidth",scrollValue:"scrollLeft",scale:"scaleX",setSize:"width",setters:{translate:function(t){return"translate3d(".concat(t,"px, 0, 0)")}}},yn={size:"offsetHeight",distanceToParent:"offsetTop",translate:"transform",begin:"top",end:"bottom",dragPosition:"y",scrollSize:"scrollHeight",offsetSize:"offsetHeight",scrollValue:"scrollTop",scale:"scaleY",setSize:"height",setters:{translate:function(t){return"translate3d(0,".concat(t,"px, 0)")}}};function xn(t,e,n){t[ae]=0;var o=function(i){return{get:function(a,f){return a[i[f]||f]},set:function(a,f,p){a[i[f]]=i.setters[f]?i.setters[f](p):p}}}(e==="horizontal"?bn:yn),r={translation:0};function l(){u(t),function(i){var a=i.getBoundingClientRect();r.scaleX=i.offsetWidth?(a.right-a.left)/i.offsetWidth:1,r.scaleY=i.offsetHeight?(a.bottom-a.top)/i.offsetHeight:1}(t)}function u(i){r.rect=fe(i);var a=me(i,r.rect);Kt(a)&&(r.lastVisibleRect=r.visibleRect),r.visibleRect=a}function d(i){var a=i;if(a.tagName){var f=a.getBoundingClientRect();return e==="vertical"?f.bottom-f.top:f.right-f.left}return o.get(i,"size")*o.get(r,"scale")}function m(i){return o.get(i,"dragPosition")}return window.addEventListener("resize",function(){u(t)}),setTimeout(function(){l()},10),{getSize:d,getContainerRectangles:function(){return{rect:r.rect,visibleRect:r.visibleRect,lastVisibleRect:r.lastVisibleRect}},getBeginEndOfDOMRect:function(i){return{begin:o.get(i,"begin"),end:o.get(i,"end")}},getBeginEndOfContainer:function(){return{begin:o.get(r.rect,"begin")+r.translation,end:o.get(r.rect,"end")+r.translation}},getBeginEndOfContainerVisibleRect:function(){return{begin:o.get(r.visibleRect,"begin")+r.translation,end:o.get(r.visibleRect,"end")+r.translation}},getBeginEnd:function(i){var a=function(f){return(o.get(f,"distanceToParent")+(f[N]||0))*o.get(r,"scale")}(i)+(o.get(r.rect,"begin")+r.translation)-o.get(t,"scrollValue");return{begin:a,end:a+d(i)*o.get(r,"scale")}},getAxisValue:m,setTranslation:function(i,a){a?o.set(i.style,"translate",a):i.style.removeProperty("transform"),i[N]=a},getTranslation:function(i){return i[N]},setVisibility:function(i,a){i[R]!==void 0&&i[R]===a||(a?i.style.removeProperty("visibility"):i.style.visibility="hidden",i[R]=a)},isVisible:function(i){return i[R]===void 0||i[R]},isInVisibleRect:function(i,a){var f=r.visibleRect,p=f.left,b=f.top,y=f.right,D=f.bottom;D-b<2&&(D=b+30);var C=r.rect;return e==="vertical"?i>C.left&&i<C.right&&b<a&&a<D:p<i&&i<y&&a>C.top&&a<C.bottom},setSize:function(i,a){o.set(i,"setSize",a)},getTopLeftOfElementBegin:function(i){var a=0;return{top:e==="horizontal"?(a=i,r.rect.top):(a=r.rect.left,i),left:a}},getScrollSize:function(i){return o.get(i,"scrollSize")},getScrollValue:function(i){return o.get(i,"scrollValue")},setScrollValue:function(i,a){return o.set(i,"scrollValue",a)},invalidate:l,invalidateRects:function(){u(t)},getPosition:function(i){return m(i)},setBegin:function(i,a){o.set(i,"begin",a)}}}function he(t,e,n){var o,r,l,u=n.left,d=n.right,m=n.top,i=n.bottom,a=t.x,f=t.y;if(a<u||d<a||f<m||i<f)return null;l=e==="x"?(o=u,r=d,a):(o=m,r=i,f);var p=r-o,b=400<p?100:p/4;return r-l<b?{direction:"end",speedFactor:(b-(r-l))/b}:l-o<b?{direction:"begin",speedFactor:(b-(l-o))/b}:null}function kt(t){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"y",n=null,o=null,r=null,l=null;return{animate:function(u,d){r=u,l=d,function m(){n===null&&(n=requestAnimationFrame(function(i){o===null&&(o=i);var a=i-o;o=i;var f,p,b,y=a/1e3*l;p=e,b=y=r==="begin"?0-y:y,(f=t)&&(f!==window?p==="x"?f.scrollLeft+=b:f.scrollTop+=b:p==="x"?f.scrollBy(b,0):f.scrollBy(0,b)),n=null,m()}))}()},stop:function(){n!==null&&(cancelAnimationFrame(n),n=null),o=null}}}function wn(t){return function(){return me(t,t.getBoundingClientRect())}}var W,Bt,A,Cn=function(t){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1500,n=t.reduce(function(o,r){var l=function(u){for(var d=[],m=u.element;m;){var i=un(m);if(i&&!Wt(m,se)){var a={};switch(i){case S.xy:a.x={animator:kt(m,"x")},a.y={animator:kt(m,"y")};break;case S.x:a.x={animator:kt(m,"x")};break;case S.y:a.y={animator:kt(m,"y")}}d.push({axisAnimations:a,getRect:wn(m),scrollerElement:m})}m=m.parentElement}return d}(r).filter(function(u){return!o.find(function(d){return d.scrollerElement===u.scrollerElement})});return[].concat(de(o),de(l))},[]);return function(o){var r=o.draggableInfo;if(o.reset)n.forEach(function(d){d.axisAnimations.x&&d.axisAnimations.x.animator.stop(),d.axisAnimations.y&&d.axisAnimations.y.animator.stop()});else if(r){(function(d,m){d.forEach(function(i){var a=i.axisAnimations,f=(0,i.getRect)();a.x&&(a.x.scrollParams=he(m,"x",f),i.cachedRect=f),a.y&&(a.y.scrollParams=he(m,"y",f),i.cachedRect=f)})})(n,r.mousePosition),n.forEach(function(d){var m=d.axisAnimations,i=m.x,a=m.y;if(i)if(i.scrollParams){var f=i.scrollParams,p=f.direction,b=f.speedFactor;i.animator.animate(p,b*e)}else i.animator.stop();if(a)if(a.scrollParams){var y=a.scrollParams,D=y.direction,C=y.speedFactor;a.animator.animate(D,C*e)}else a.animator.stop()});var l=n.filter(function(d){return d.cachedRect});if(l.length&&1<l.length){var u=function(d,m){for(var i=document.elementFromPoint(m.x,m.y);i;){var a=d.find(function(f){return f.scrollerElement===i});if(a)return a;i=i.parentElement}return null}(l,r.mousePosition);u&&l.forEach(function(d){d!==u&&(d.axisAnimations.x&&d.axisAnimations.x.animator.stop(),d.axisAnimations.y&&d.axisAnimations.y.animator.stop())})}}}};typeof window!="undefined"&&((W=Element)&&W.prototype&&!W.prototype.matches&&(W.prototype.matches=W.prototype.matchesSelector||W.prototype.mozMatchesSelector||W.prototype.msMatchesSelector||W.prototype.oMatchesSelector||W.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;0<=--n&&e.item(n)!==this;);return-1<n}),(Bt=Node||Element)&&Bt.prototype&&Bt.prototype.firstElementChild==null&&Object.defineProperty(Bt.prototype,"firstElementChild",{get:function(){for(var t,e=this.childNodes,n=0;t=e[n++];)if(t.nodeType===1)return t;return null}}),Array.prototype.some||(Array.prototype.some=function(t){if(this==null)throw new TypeError("Array.prototype.some called on null or undefined");if(typeof t!="function")throw new TypeError;for(var e=Object(this),n=e.length>>>0,o=2<=arguments.length?arguments[1]:void 0,r=0;r<n;r++)if(r in e&&t.call(o,e[r],r,e))return!0;return!1}));var ve={overflow:"hidden",display:"block"},be={height:"100%",display:"table-cell","vertical-align":"top"},En=(T(A={},".".concat(G),{position:"relative","min-height":"30px","min-width":"30px"}),T(A,".".concat(G,".horizontal"),{display:"table"}),T(A,".".concat(G,".horizontal > .").concat(Xt),{display:"inline-block"}),T(A,".".concat(G,".horizontal > .").concat(I),be),T(A,".".concat(G,".vertical > .").concat(I),ve),T(A,".".concat(I),{"box-sizing":"border-box"}),T(A,".".concat(I,".horizontal"),be),T(A,".".concat(I,".vertical"),ve),T(A,".".concat(I,".animated"),{transition:"transform ease"}),T(A,".".concat($),{"box-sizing":"border-box"}),T(A,".".concat($,".animated"),{transition:"all ease-in-out"}),T(A,".".concat($," *"),{"pointer-events":"none"}),T(A,".".concat(Et," *"),{"touch-action":"none","-ms-touch-action":"none"}),T(A,".".concat(_t),{"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}),T(A,".".concat(qt),{flex:"1"}),T(A,".".concat(G,".horizontal > .").concat(Dt),{height:"100%",overflow:"hidden",display:"table-cell","vertical-align":"top"}),T(A,".".concat(G,".vertical > .").concat(Dt),{overflow:"hidden",display:"block",width:"100%"}),T(A,".".concat(Ut),{width:"100%",height:"100%",display:"flex","justify-content":"stretch","align-items":"stretch"}),T(A,".".concat(Gt),{"background-color":"rgba(150, 150, 150, 0.1)",border:"1px solid #ccc"}),A);function Jt(t){return Object.keys(t).reduce(function(e,n){var o=t[n];return Yt(o)==="object"?"".concat(e).concat(n,"{").concat(Jt(o),"}"):"".concat(e).concat(n,":").concat(o,";")},"")}function ye(t){if(t&&typeof window!="undefined"){var e=window.document.head||window.document.getElementsByTagName("head")[0],n=window.document.createElement("style"),o=Jt({"body *":{cursor:"".concat(t," !important")}});return n.type="text/css",n.styleSheet?n.styleSheet.cssText=o:n.appendChild(window.document.createTextNode(o)),e.appendChild(n),n}return null}var at,Rt,_n=["mousedown","touchstart"],At=["mousemove","touchmove"],Tt=["mouseup","touchend"],P=null,K=null,k=null,x=null,V=[],J=!1,Pt=!1,gt=!1,Lt=!1,st=null,F=null,ht=null,vt=null,xe=(at=null,Rt=!1,{start:function(){Rt||(Rt=!0,function t(){at=requestAnimationFrame(function(){P.forEach(function(e){return e.layout.invalidateRects()}),setTimeout(function(){at!==null&&t()},50)})}())},stop:function(){at!==null&&(cancelAnimationFrame(at),at=null),Rt=!1}}),Dn=typeof window!="undefined"&&!!(window.navigator.userAgent.match(/Android/i)||window.navigator.userAgent.match(/webOS/i)||window.navigator.userAgent.match(/iPhone/i)||window.navigator.userAgent.match(/iPad/i)||window.navigator.userAgent.match(/iPod/i)||window.navigator.userAgent.match(/BlackBerry/i)||window.navigator.userAgent.match(/Windows Phone/i));function Sn(){typeof window!="undefined"&&_n.forEach(function(t){window.document.addEventListener(t,On,{passive:!1})})}function we(){return x&&x.ghostParent?x.ghostParent:K&&K.parentElement||window.document.body}var bt,Qt,Ce,Nt,Zt,te,In=(Nt=null,Zt=1,te=5,function(t,e,n){bt=jt(t),Ce=n,(Qt=typeof e=="number"?e:Dn?200:0)&&(Nt=setTimeout(Se,Qt)),At.forEach(function(o){return window.document.addEventListener(o,Ee)},{passive:!1}),Tt.forEach(function(o){return window.document.addEventListener(o,_e)},{passive:!1}),window.document.addEventListener("drag",De,{passive:!1})});function Ee(t){var e=jt(t),n=e.clientX,o=e.clientY;if(Qt)(Math.abs(bt.clientX-n)>te||Math.abs(bt.clientY-o)>te)&&zt();else if(Math.abs(bt.clientX-n)>Zt||Math.abs(bt.clientY-o)>Zt)return Se()}function _e(){zt()}function De(){zt()}function zt(){clearTimeout(Nt),At.forEach(function(t){return window.document.removeEventListener(t,Ee)},{passive:!1}),Tt.forEach(function(t){return window.document.removeEventListener(t,_e)},{passive:!1}),window.document.removeEventListener("drag",De,{passive:!1})}function Se(){clearTimeout(Nt),zt(),Ce()}function On(t){var e=jt(t);if(!J&&(e.button===void 0||e.button===0)&&(K=pt(e.target,"."+I))){var n=pt(K,"."+G),o=V.filter(function(d){return d.element===n})[0],r=o.getOptions().dragHandleSelector,l=o.getOptions().nonDragAreaSelector,u=!0;r&&!pt(e.target,r)&&(u=!1),l&&pt(e.target,l)&&(u=!1),u&&(o.layout.invalidate(),q(window.document.body,Et),q(window.document.body,_t),window.document.addEventListener("mouseup",function d(){Ot(window.document.body,Et),Ot(window.document.body,_t),window.document.removeEventListener("mouseup",d)})),u&&In(e,o.getOptions().dragBeginDelay,function(){hn(),Te(e,pe(t.target)),At.forEach(function(d){window.document.addEventListener(d,Ie,{passive:!1})}),Tt.forEach(function(d){window.document.addEventListener(d,ee,{passive:!1})})})}}function Ie(t){t.preventDefault();var e=jt(t);if(x){var n=x.container.getOptions();n.behaviour==="contain"?function(o){var r,l,u,d,m=o.clientX,i=o.clientY,a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"vertical",f=x.container.layout.getBeginEndOfContainerVisibleRect();d=a==="vertical"?(r=i,l="y",u="top",x.size.offsetHeight):(r=m,l="x",u="left",x.size.offsetWidth);var p=f.begin,b=f.end-d,y=Math.max(p,Math.min(b,r+k.positionDelta[u]));k.topLeft[l]=y,x.position[l]=Math.max(f.begin,Math.min(f.end,r+k.centerDelta[l])),x.mousePosition[l]=Math.max(f.begin,Math.min(f.end,r)),x.position[l]<f.begin+d/2&&(x.position[l]=f.begin+2),x.position[l]>f.end-d/2&&(x.position[l]=f.end-2)}(e,n.orientation):ht?ht==="y"?(k.topLeft.y=e.clientY+k.positionDelta.top,x.position.y=e.clientY+k.centerDelta.y,x.mousePosition.y=e.clientY):ht==="x"&&(k.topLeft.x=e.clientX+k.positionDelta.left,x.position.x=e.clientX+k.centerDelta.x,x.mousePosition.x=e.clientX):(k.topLeft.x=e.clientX+k.positionDelta.left,k.topLeft.y=e.clientY+k.positionDelta.top,x.position.x=e.clientX+k.centerDelta.x,x.position.y=e.clientY+k.centerDelta.y,x.mousePosition.x=e.clientX,x.mousePosition.y=e.clientY),re(),(Lt=!st(x))&&kn()}else Te(e,pe(t.target))}var yt,Oe,ke,dt,kn=(yt=Be,ke=!(Oe=20),dt=null,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];dt&&clearTimeout(dt),ke&&!dt?yt.call.apply(yt,[null].concat(e)):dt=setTimeout(function(){dt=null,yt.call.apply(yt,[null].concat(e))},Oe)});function Be(){Lt&&(Lt=!1,Re(x,P))}function ee(){At.forEach(function(t){window.document.removeEventListener(t,Ie,{passive:!1})}),Tt.forEach(function(t){window.document.removeEventListener(t,ee,{passive:!1})}),F({reset:!0}),vt&&(function(t){t&&typeof window!="undefined"&&(window.document.head||window.document.getElementsByTagName("head")[0]).removeChild(t)}(vt),vt=null),x&&(xe.stop(),Be(),gt=!0,function(t){function e(){Ot(k.ghost,"animated"),k.ghost.style.transitionDuration=null,we().removeChild(k.ghost),t()}function n(C,E,U){var ie=C.top,xt=C.left;q(k.ghost,"animated"),U&&q(k.ghost.firstElementChild,U),k.topLeft.x=xt,k.topLeft.y=ie,re(E),setTimeout(function(){e()},E+20)}function o(C,E){q(k.ghost,"animated"),re(C,.9,!0),setTimeout(function(){E()},C+20)}if(x.targetElement){var r=V.filter(function(C){return C.element===x.targetElement})[0];!(D=r.getOptions()).shouldAnimateDrop||D.shouldAnimateDrop(x.container.getOptions(),x.payload)?n(r.getDragResult().shadowBeginEnd.rect,Math.max(150,r.getOptions().animationDuration/2),r.getOptions().dropClass):e()}else{var l=V.filter(function(C){return C===x.container})[0];if(l){var u=l.getOptions(),d=u.behaviour,m=u.removeOnDropOut;if(d!=="move"&&d!=="contain"||!Pt&&m||!l.getDragResult())o(l.getOptions().animationDuration,e);else{var i=l.layout.getContainerRectangles();if(!Kt(i.visibleRect)&&Kt(i.lastVisibleRect))n({top:i.lastVisibleRect.top,left:i.lastVisibleRect.left},l.getOptions().animationDuration,l.getOptions().dropClass);else{var a=l.getDragResult(),f=a.removedIndex,p=a.elementSize,b=l.layout;l.getTranslateCalculator({dragResult:{removedIndex:f,addedIndex:f,elementSize:p,pos:void 0,shadowBeginEnd:void 0}});var y=0<f?b.getBeginEnd(l.draggables[f-1]).end:b.getBeginEndOfContainer().begin;n(b.getTopLeftOfElementBegin(y),l.getOptions().animationDuration,l.getOptions().dropClass)}}}else o(mt.animationDuration,e)}var D}(function(){Ae(J=!1);for(var t=P||[],e=t.shift();e!==void 0;)e.handleDrop(x),e=t.shift();st=ht=x=k=K=P=null,gt=!1}))}function jt(t){return t.touches?t.touches[0]:t}function Re(t,e){var n=!1;e.forEach(function(o){var r=o.handleDrag(t);n=!!r.containerBoxChanged||!1,r.containerBoxChanged=!1}),n&&(n=!1,requestAnimationFrame(function(){V.forEach(function(o){o.layout.invalidateRects(),o.onTranslated()})}))}function ne(t){var e=t,n=null;return function(o){return!(n!==null||!J||gt)&&(n=requestAnimationFrame(function(){J&&!gt&&(Re(o,e),F({draggableInfo:o})),n=null}),!0)}}function oe(t,e){return t.getOptions().autoScrollEnabled?Cn(e,t.getScrollMaxSpeed()):function(n){return null}}function Ae(t){V.forEach(function(e){var n=t?e.getOptions().onDragStart:e.getOptions().onDragEnd;if(n){var o={isSource:e===x.container,payload:x.payload};e.isDragRelevant(x.container,x.payload)?o.willAcceptDrop=!0:o.willAcceptDrop=!1,n(o)}})}function Te(t,e){if(K!==null){J=!0;var n=V.filter(function(o){return K.parentElement===o.element})[0];n.setDraggables(),ht=n.getOptions().lockAxis?n.getOptions().lockAxis.toLowerCase():null,x=function(o){var r=V.filter(function(m){return o.parentElement===m.element})[0],l=r.draggables.indexOf(o),u=r.getOptions().getGhostParent,d=o.getBoundingClientRect();return{container:r,element:o,size:{offsetHeight:d.bottom-d.top,offsetWidth:d.right-d.left},elementIndex:l,payload:r.getOptions().getChildPayload?r.getOptions().getChildPayload(l):void 0,targetElement:null,position:{x:0,y:0},groupName:r.getOptions().groupName,ghostParent:u?u():null,invalidateShadow:null,mousePosition:null,relevantContainers:null}}(K),k=function(o,r,l,u){var d=r.x,m=r.y,i=o.getBoundingClientRect(),a=i.left,f=i.top,p=i.right,b=i.bottom,y=fn(l.layout.getContainerRectangles().visibleRect,i),D=y.left+(y.right-y.left)/2,C=y.top+(y.bottom-y.top)/2,E=o.cloneNode(!0);return E.style.zIndex="1000",E.style.boxSizing="border-box",E.style.position="fixed",E.style.top="0px",E.style.left="0px",E.style.transform=null,E.style.removeProperty("transform"),l.shouldUseTransformForGhost()?E.style.transform="translate3d(".concat(a,"px, ").concat(f,"px, 0)"):(E.style.top="".concat(f,"px"),E.style.left="".concat(a,"px")),E.style.width=p-a+"px",E.style.height=b-f+"px",E.style.overflow="visible",E.style.transition=null,E.style.removeProperty("transition"),E.style.pointerEvents="none",E.style.userSelect="none",l.getOptions().dragClass?setTimeout(function(){q(E.firstElementChild,l.getOptions().dragClass);var U=window.getComputedStyle(E.firstElementChild).cursor;vt=ye(U)}):vt=ye(u),q(E,l.getOptions().orientation||"vertical"),q(E,$),{ghost:E,centerDelta:{x:D-d,y:C-m},positionDelta:{left:a-d,top:f-m},topLeft:{x:a,y:f}}}(K,{x:t.clientX,y:t.clientY},x.container,e),x.position={x:t.clientX+k.centerDelta.x,y:t.clientY+k.centerDelta.y},x.mousePosition={x:t.clientX,y:t.clientY},P=V.filter(function(o){return o.isDragRelevant(n,x.payload)}),x.relevantContainers=P,st=ne(P),F&&F({reset:!0,draggableInfo:void 0}),F=oe(n,P),P.forEach(function(o){return o.prepareDrag(o,P)}),Ae(!0),st(x),we().appendChild(k.ghost),xe.start()}}var Mt=null;function re(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1,n=2<arguments.length&&arguments[2]!==void 0&&arguments[2],o=k,r=o.ghost,l=o.topLeft,u=l.x,d=l.y,m=!x.container||x.container.shouldUseTransformForGhost(),i=m?"translate3d(".concat(u,"px,").concat(d,"px, 0)"):null;if(e!==1&&(i=i?"".concat(i," scale(").concat(e,")"):"scale(".concat(e,")")),0<t)return k.ghost.style.transitionDuration=t+"ms",void requestAnimationFrame(function(){i&&(r.style.transform=i),m||(r.style.left=u+"px",r.style.top=d+"px"),Mt=null,n&&(r.style.opacity="0")});Mt===null&&(Mt=requestAnimationFrame(function(){i&&(r.style.transform=i),m||(r.style.left=u+"px",r.style.top=d+"px"),Mt=null,n&&(r.style.opacity="0")}))}function Bn(){if(J&&!Pt&&!gt){Lt=!(Pt=!0);var t=Object.assign({},x,{targetElement:null,position:{x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER},mousePosition:{x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER}});P.forEach(function(e){e.handleDrag(t)}),x.targetElement=null,x.cancelDrop=!0,ee(),Pt=!1}}typeof window!="undefined"&&function(){if(typeof window!="undefined"){var t=window.document.head||window.document.getElementsByTagName("head")[0],e=window.document.createElement("style");e.id="smooth-dnd-style-definitions";var n=Jt(En);e.type="text/css",e.styleSheet?e.styleSheet.cssText=n:e.appendChild(window.document.createTextNode(n)),t.appendChild(e)}}();var $t=(Sn(),{register:function(t){(function(e){V.push(e),J&&x&&e.isDragRelevant(x.container,x.payload)&&(P.push(e),e.prepareDrag(e,P),F&&F({reset:!0,draggableInfo:void 0}),F=oe(e,P),st=ne(P),e.handleDrag(x))})(t)},unregister:function(t){(function(e){if(V.splice(V.indexOf(e),1),J&&x){x.container===e&&e.fireRemoveElement(),x.targetElement===e.element&&(x.targetElement=null);var n=P.indexOf(e);-1<n&&(P.splice(n,1),F&&F({reset:!0,draggableInfo:void 0}),F=oe(e,P),st=ne(P))}})(t)},isDragging:function(){return J},cancelDrag:Bn});function Pe(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:mt.animationDuration;e?(q(t,_),t.style.transitionDuration=n+"ms"):(Ot(t,_),t.style.removeProperty("transition-duration"))}function Le(t){var e=[];return Array.prototype.forEach.call(t.children,function(n){if(n.nodeType===Node.ELEMENT_NODE){var o=n;Wt(n,I)||(o=function(r){if(z.wrapChild){var l=window.document.createElement("div");return l.className="".concat(I),r.parentElement.insertBefore(l,r),l.appendChild(r),l}return r}(n)),o[N]=0,e.push(o)}else t.removeChild(n)}),e}function Rn(t){var e=t.layout;return function(n,o){var r=2<arguments.length&&arguments[2]!==void 0&&arguments[2];return function l(u,d,m,i){var a=4<arguments.length&&arguments[4]!==void 0&&arguments[4];if(i<m)return m;if(m===i){var f=e.getBeginEnd(u[m]),p=f.begin,b=f.end;return a?d<(b+p)/2?m:m+1:m}var y=Math.floor((i+m)/2),D=e.getBeginEnd(u[y]),C=D.begin,E=D.end;return d<C?l(u,d,m,y-1,a):E<d?l(u,d,y+1,i,a):a?d<(E+C)/2?y:y+1:y}(n,o,0,n.length-1,r)}}function An(t){var e=t.element,n=t.draggables,o=t.layout,r=t.getOptions,l=function(d){var m=d.element,i=d.draggables,a=d.layout;return function(){i.forEach(function(f){Pe(f,!1),a.setTranslation(f,0),a.setVisibility(f,!0)}),m[tt]&&(m[tt].parentNode.removeChild(m[tt]),m[tt]=null)}}({element:e,draggables:n,layout:o,getOptions:r}),u=(z.dropHandler||ge)({element:e,draggables:n,layout:o,getOptions:r});return function(d,m){var i=m.addedIndex,a=m.removedIndex,f=2<arguments.length&&arguments[2]!==void 0&&arguments[2];if(l(),!d.cancelDrop&&(d.targetElement||r().removeOnDropOut||f)){var p={removedIndex:a,addedIndex:i!==null?a!==null&&a<i?i-1:i:null,payload:d.payload};u(p,r().onDrop)}}}function Ne(t){var e=t.element,n=t.getOptions,o=null;return function(r){var l=r.draggableInfo,u=o;return o==null&&l.container.element===e&&n().behaviour!=="copy"&&(u=o=l.elementIndex),{removedIndex:u}}}function ze(t){var e=t.draggables,n=t.layout;return function(o){var r=o.dragResult;r.removedIndex!==null&&n.setVisibility(e[r.removedIndex],!1)}}function je(t){var e=t.element,n=t.layout;return function(o){var r=o.draggableInfo,l=document.elementFromPoint(r.position.x,r.position.y);if(l){var u=mn(l,r.relevantContainers);if(u&&u.element===e)return{pos:n.getPosition(r.position)}}return{pos:null}}}function Me(t){var e=t.layout,n=null;return function(o){var r=o.draggableInfo;return o.dragResult.pos===null?n=null:{elementSize:n=n||e.getSize(r.size)}}}function $e(t){var e=t.element;return function(n){var o=n.draggableInfo,r=n.dragResult;(function(l,u){var d=!(2<arguments.length&&arguments[2]!==void 0)||arguments[2];u&&d?l.targetElement=u:l.targetElement===u&&(l.targetElement=null)})(o,e,!!r.pos)}}function Tn(){return function(t){return t.dragResult.pos!==null?{addedIndex:0}:{addedIndex:null}}}function Pn(t){var e=t.layout,n=null;return function(o){var r=o.dragResult.addedIndex;if(r===n)return null;n=r;var l=e.getBeginEndOfContainer(),u=l.begin;return l.end,{shadowBeginEnd:{rect:e.getTopLeftOfElementBegin(u)}}}}function Ln(t){var e=t.layout,n=t.element,o=t.getOptions,r=null;return function(l){var u=l.dragResult,d=u.elementSize,m=u.shadowBeginEnd,i=u.addedIndex,a=u.dropPlaceholderContainer,f=o();if(f.dropPlaceholder){var p=typeof f.dropPlaceholder=="boolean"?{}:f.dropPlaceholder,b=p.animationDuration,y=p.className,D=p.showOnTop;if(i===null)return a&&r!==null&&n.removeChild(a),r=null,{dropPlaceholderContainer:void 0};if(!a){var C=document.createElement("div"),E=document.createElement("div");E.className=Ut,C.className="".concat(qt," ").concat(y||Gt),(a=document.createElement("div")).className="".concat(Dt),a.style.position="absolute",b!==void 0&&(a.style.transition="all ".concat(b,"ms ease")),a.appendChild(E),E.appendChild(C),e.setSize(a.style,d+"px"),a.style.pointerEvents="none",D?n.appendChild(a):n.insertBefore(a,n.firstElementChild)}return r!==i&&m.dropArea&&e.setBegin(a.style,m.dropArea.begin-e.getBeginEndOfContainer().begin+"px"),r=i,{dropPlaceholderContainer:a}}return null}}function Nn(t){var e=Fe(t);return function(n){var o=n.draggableInfo,r=n.dragResult;return o.invalidateShadow?e({draggableInfo:o,dragResult:r}):null}}function zn(t){var e=function(n){var o=n.draggables,r=Rn({layout:n.layout});return function(l){var u=l.dragResult,d=u.shadowBeginEnd,m=u.pos;if(d)return d.begin+d.beginAdjustment<=m&&d.end>=m?null:m<d.begin+d.beginAdjustment?r(o,m):m>d.end?r(o,m)+1:o.length;var i=r(o,m,!0);return i!==null?i:o.length}}(t);return function(n){var o=n.dragResult,r=null;return o.pos!==null&&(r=e({dragResult:o}))===null&&(r=o.addedIndex),{addedIndex:r}}}function jn(){var t=null;return function(e){var n=e.dragResult,o=n.addedIndex,r=n.shadowBeginEnd;o!==t&&t!==null&&r&&(r.beginAdjustment=0),t=o}}function Mn(t){var e=t.element,n=t.draggables,o=t.layout,r=t.getOptions,l=null;return function(u){var d=u.dragResult,m=d.addedIndex,i=d.removedIndex,a=d.elementSize;if(i===null){if(m!==null){if(!l){var f=o.getBeginEndOfContainer();f.end=f.begin+o.getSize(e);var p=o.getScrollSize(e)>o.getSize(e)?f.begin+o.getScrollSize(e)-o.getScrollValue(e):f.end,b=0<n.length?o.getBeginEnd(n[n.length-1]).end-n[n.length-1][N]:f.begin;if(p<b+a){(l=window.document.createElement("div")).className=Xt+" "+r().orientation;var y=0<n.length?a+b-p:a;return o.setSize(l.style,"".concat(y,"px")),e.appendChild(l),e[tt]=l,{containerBoxChanged:!0}}}}else if(l){o.setTranslation(l,0);var D=l;return l=null,e.removeChild(D),{containerBoxChanged:!(e[tt]=null)}}}}}function Ve(t){var e=t.draggables,n=t.layout,o=null,r=null;return function(l){var u=l.dragResult,d=u.addedIndex,m=u.removedIndex,i=u.elementSize;if(d!==o||m!==r){for(var a=0;a<e.length;a++)if(a!==m){var f=e[a],p=0;m!==null&&m<a&&(p-=i),d!==null&&d<=a&&(p+=i),n.setTranslation(f,p)}return{addedIndex:o=d,removedIndex:r=m}}}}function Fe(t){var e=t.draggables,n=t.layout,o=null;return function(r){var l=r.draggableInfo,u=r.dragResult,d=u.addedIndex,m=u.removedIndex,i=u.elementSize,a=u.pos,f=u.shadowBeginEnd;if(a===null)return{shadowBeginEnd:o=null};if(d===null||!l.invalidateShadow&&d===o)return null;var p=d-1,b=Number.MIN_SAFE_INTEGER,y=0,D=0,C=null,E=null;if(p===m&&p--,-1<p){var U=n.getSize(e[p]);if(E=n.getBeginEnd(e[p]),i<U){var ie=(U-i)/2;b=E.end-ie}else b=E.end;y=E.end}else E={end:n.getBeginEndOfContainer().begin},y=n.getBeginEndOfContainer().begin;var xt=Number.MAX_SAFE_INTEGER,wt=d;if(wt===m&&wt++,wt<e.length){var Ue=n.getSize(e[wt]);if(C=n.getBeginEnd(e[wt]),i<Ue){var Fn=(Ue-i)/2;xt=C.begin+Fn}else xt=C.begin;D=C.begin}else C={begin:n.getContainerRectangles().rect.end},D=n.getContainerRectangles().rect.end-n.getContainerRectangles().rect.begin;var Hn=E&&C?n.getTopLeftOfElementBegin(E.end):null;return o=d,{shadowBeginEnd:{dropArea:{begin:y,end:D},begin:b,end:xt,rect:Hn,beginAdjustment:f?f.beginAdjustment:0}}}}function $n(){var t=null;return function(e){var n=e.dragResult,o=n.pos,r=n.addedIndex,l=n.shadowBeginEnd;if(o!==null){if(r!=null&&t===null){if(o<l.begin){var u=o-l.begin-5;l.beginAdjustment=u}t=r}}else t=null}}function He(t){var e=t.getOptions,n=!1,o=e();return function(r){var l=!!r.dragResult.pos;l!==n&&((n=l)?o.onDragEnter&&o.onDragEnter():o.onDragLeave&&o.onDragLeave())}}function Xe(t){var e=t.getOptions,n=null,o=e();return function(r){var l=r.dragResult,u=l.addedIndex,d=l.removedIndex,m=r.draggableInfo,i=m.payload,a=m.element;if(o.onDropReady&&u!==null&&n!==u){var f=n=u;d!==null&&d<u&&f--,o.onDropReady({addedIndex:f,removedIndex:d,payload:i,element:a?a.firstElementChild:void 0})}}}function Ge(t){return t.getOptions().behaviour==="drop-zone"?qe(t)(Ne,ze,je,Me,$e,Tn,Pn,He,Xe):qe(t)(Ne,ze,je,Me,$e,Nn,zn,jn,Mn,Ve,Fe,Ln,$n,He,Xe)}function qe(t){return function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var r=n.map(function(u){return u(t)}),l=null;return function(u){return l=r.reduce(function(d,m){return Object.assign(d,m({draggableInfo:u,dragResult:d}))},l||{addedIndex:null,removedIndex:null,elementSize:null,pos:null,shadowBeginEnd:null})}}}function Vn(t){return function(e){var n=Object.assign({},mt,e),o=null,r=null,l=function(p,b){var y=Le(p),D=b();return q(p,"".concat(G," ").concat(D.orientation)),{element:p,draggables:y,getOptions:b,layout:xn(p,D.orientation,D.animationDuration)}}(t,f),u=Ge(l),d=An(l),m=function(p,b){var y=[];function D(){y&&(y.forEach(function(C){return C.removeEventListener("scroll",b)}),window.removeEventListener("scroll",b))}return function(){for(var C=p;C;)(ue(C,"x")||ue(C,"y"))&&y.push(C),C=C.parentElement}(),{dispose:function(){D(),y=null},start:function(){y&&(y.forEach(function(C){return C.addEventListener("scroll",b)}),window.addEventListener("scroll",b))},stop:D}}(t,function(){l.layout.invalidateRects(),i()});function i(){r!==null&&(r.invalidateShadow=!0,o=u(r),r.invalidateShadow=!1)}function a(p,b){for(var y=Le(b),D=0;D<y.length;D++)p[D]=y[D];for(var C=0;C<p.length-y.length;C++)p.pop()}function f(){return n}return{element:t,draggables:l.draggables,isDragRelevant:function(p){var b=p.element,y=p.getOptions;return function(D,C){var E=y();if(E.shouldAcceptDrop)return E.shouldAcceptDrop(D.getOptions(),C);var U=D.getOptions();return E.behaviour!=="copy"&&pt(b,"."+I)!==D.element&&(D.element===b||!(!U.groupName||U.groupName!==E.groupName))}}(l),layout:l.layout,dispose:function(p){m.dispose(),function(b){z.wrapChild&&Array.prototype.forEach.call(b.children,function(y){y.nodeType===Node.ELEMENT_NODE&&Wt(y,I)&&(b.insertBefore(y.firstElementChild,y),b.removeChild(y))})}(p.element)},prepareDrag:function(p,b){var y=p.element,D=l.draggables;a(D,y),p.layout.invalidateRects(),D.forEach(function(C){return Pe(C,!0,f().animationDuration)}),m.start()},handleDrag:function(p){return o=u(r=p)},handleDrop:function(p){m.stop(),o&&o.dropPlaceholderContainer&&t.removeChild(o.dropPlaceholderContainer),r=null,u=Ge(l),d(p,o),o=null},fireRemoveElement:function(){d(r,Object.assign({},o,{addedIndex:null}),!0),o=null},getDragResult:function(){return o},getTranslateCalculator:function(p){return Ve(l)(p)},onTranslated:function(){i()},setDraggables:function(){a(l.draggables,t)},getScrollMaxSpeed:function(){return z.maxScrollSpeed},shouldUseTransformForGhost:function(){return z.useTransformForGhost===!0},getOptions:f,setOptions:function(p){var b=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];n=b===!1?Object.assign({},mt,p):Object.assign({},mt,n,p)}}}}var z=function(t,e){var n=Vn(t)(e);return t[w]=n,$t.register(n),{dispose:function(){$t.unregister(n),n.dispose(n)},setOptions:function(o,r){n.setOptions(o,r)}}};function Vt(t,e,n){Object.defineProperty(t,n,{set:function(o){e[n]=o},get:function(){return e[n]}})}z.wrapChild=!0,z.cancelDrag=function(){$t.cancelDrag()},z.isDragging=function(){return $t.isDragging()};function et(t,e){return console.warn('default export is deprecated. please use named export "smoothDnD"'),z(t,e)}et.cancelDrag=function(){z.cancelDrag()},et.isDragging=function(){return z.isDragging()},Vt(et,z,"useTransformForGhost"),Vt(et,z,"maxScrollSpeed"),Vt(et,z,"wrapChild"),Vt(et,z,"dropHandler"),g.smoothDnD=z,g.constants=cn,g.dropHandlers=vn,g.default=et,Object.defineProperty(g,"__esModule",{value:!0})})})(lt,lt.exports);const oo=function(c){return Array.isArray(c)};function on(c){return c?typeof c=="string"||typeof c=="object"&&(typeof c.value=="string"||typeof c.value=="function"||typeof c.value=="object"):!0}function rn(c,s){const g=c.$props.tag;if(g){if(typeof g=="string"){const S={value:g};return s&&(S.props={class:s}),S}else if(typeof g=="object"){const S={value:g.value||"div",props:g.props||{}};return s&&(S.props.class?oo(S.props.class)?S.props.class.push(s):S.props.class=[s,S.props.class]:S.props.class=s),S}}return{value:"div"}}lt.exports.smoothDnD.dropHandler=lt.exports.dropHandlers.reactDropHandler().handler;lt.exports.smoothDnD.wrapChild=!1;const ln={"drag-start":"onDragStart","drag-end":"onDragEnd",drop:"onDrop","drag-enter":"onDragEnter","drag-leave":"onDragLeave","drop-ready":"onDropReady"};var an=Ke({name:"Container",mounted(){const c=Object.assign({},this.$props);for(const s in ln)c[ln[s]]=g=>{this.$emit(s,g)};this.containerElement=this.$refs.container||this.$el,this.container=lt.exports.smoothDnD(this.containerElement,c)},unmounted(){this.container&&this.container.dispose()},emits:["drop","drag-start","drag-end","drag-enter","drag-leave","drop-ready"],props:{removeOnDropOut:{type:Boolean,default:!1},autoScrollEnabled:{type:Boolean,default:!0},behaviour:String,groupName:String,orientation:String,dragHandleSelector:String,nonDragAreaSelector:String,lockAxis:String,dragClass:String,dropClass:String,dragBeginDelay:Number,animationDuration:Number,getChildPayload:Function,shouldAnimateDrop:Function,shouldAcceptDrop:Function,getGhostParent:Function,dropPlaceholder:[Object,Boolean],tag:{validator:on,default:"div"}},render(){const c=rn(this);return Je(c.value,Object.assign({},{ref:"container"},c.props),this.$slots.default())}}),sn=Ke({name:"Draggable",props:{tag:{validator:on,default:"div"}},render:function(){const c=rn(this,lt.exports.constants.wrapperClass);return Je(c.value,Object.assign({},c.props),this.$slots.default())}});/*!
 * Get the contrasting color for any hex color
 * (c) 2019 Chris Ferdinandi, MIT License, https://gomakethings.com
 * Derived from work by Brian Suda, https://24ways.org/2010/calculating-color-contrast/
 * @param  {String} A hexcolor value
 * @return {String} The contrasting color (black or white)
 */function dn(c){c.slice(0,1)==="#"&&(c=c.slice(1)),c.length===3&&(c=c.split("").map(function(w){return w+w}).join(""));var s=parseInt(c.substr(0,2),16),g=parseInt(c.substr(2,2),16),S=parseInt(c.substr(4,2),16),v=(s*299+g*587+S*114)/1e3;return v>=128?"black":"white"}const ro={mixins:[to],props:{card:{type:Object,required:!0},list:{type:Object,required:!0},board:{type:Object,required:!0}},emits:["editCard"],computed:Y(j({},ct(X,["userIsMember"])),{coverImage(){return Math.random()>.7?"https://picsum.photos/id/1041/300/100":null},cardStyle(){return this.card.color?{backgroundColor:this.card.color,color:dn(this.card.color)}:{}},cardBgColor(){return this.card.color?this.card.color:"rgb(34,39,34)"}}),methods:{editCard(){this.userIsMember&&this.$bus.emit("editCard",{list:this.list,card:this.card})}}},io={class:"px-4 py-2"},lo={class:"my-2 font-bold text-shadow-sm"};function ao(c,s,g,S,v,w){return O(),B("div",{class:"my-1 border border-neutral-700 bg-card shadow rounded-md transition-transform",style:le(w.cardStyle),onClick:s[0]||(s[0]=(...I)=>w.editCard&&w.editCard(...I))},[h("div",io,[h("div",lo,L(g.card.title),1)])],4)}var so=it(ro,[["render",ao]]);const co={props:{list:{type:Object,required:!0},positionType:{type:String,default:"top"}},emits:["cancel"],data(){return{title:""}},mounted(){this.$nextTick(()=>{var c;(c=this.$refs.textarea)==null||c.focus()})},methods:Y(j({},ut(X,["createCard"])),{async create(){var s,g,S,v;if(this.title.trim()==="")return this.cancel();let c;this.positionType=="top"?c=((g=(s=this.list.cards)==null?void 0:s.rows)==null?void 0:g.length)?this.list.cards.rows[0].position-1:1:c=((v=(S=this.list.cards)==null?void 0:S.rows)==null?void 0:v.length)?this.list.cards.rows[this.list.cards.rows.length-1].position+1:1,await this.createCard({list:this.list,input:{title:this.title,list:this.list.id,position:c}}),this.title=""},cancel(){this.$emit("cancel")}})},uo={class:"my-1 p-2 flex flex-col gap-y-2 border border-neutral-700 bg-card shadow rounded-md transition-transform"},fo={class:"flex"},mo=h("h6",{class:"flex-1 font-title text-primary"},"Create new card",-1),po=h("i",{class:"fa fa-times"},null,-1),go=[po],ho={class:"form-element"},vo=Kn('<div class="flex"><div><i class="fa fa-tags mx-2 text-muted"></i></div><div class="flex-1 flex gap-2 flex-wrap"><div class="bg-primary rounded px-2 py-0.5 text-xs text-black text-shadow-sm"> Frontend <i class="ml-1 fa fa-times cursor-pointer"></i></div><div class="border border-neutral-500 rounded-full px-2 py-0.5 text-xs text-neutral-500 cursor-pointer hover:border-neutral-400 hover:text-neutral-400"><i class="fa fa-plus text-xxs"></i></div></div></div><hr class="border-t border-neutral-600"><div class="flex items-center"><div><i class="fa fa-user-plus mx-2 text-muted"></i></div><div class="flex-1 flex items-center gap-2 flex-wrap"><div class="flex"><img class="h-8 w-8 rounded-full border-2 border-panel object-cover" src="https://faces-img.xcdn.link/image-lorem-face-1128.jpg" alt=""><img class="h-8 w-8 rounded-full border-2 border-panel object-cover" src="https://faces-img.xcdn.link/image-lorem-face-5026.jpg" alt=""></div><div class="w-7 h-7 border border-neutral-500 rounded-full text-neutral-500 cursor-pointer hover:border-neutral-400 hover:text-neutral-400 flex justify-center items-center"><i class="fa fa-plus text-xs"></i></div></div></div>',3),bo={class:"mt-2 text-center"},yo=["disabled"];function xo(c,s,g,S,v,w){return O(),B("div",uo,[h("div",fo,[mo,h("button",{class:"button small flat",onClick:s[0]||(s[0]=(...I)=>w.cancel&&w.cancel(...I))},go)]),h("div",ho,[nt(h("textarea",{ref:"textarea","onUpdate:modelValue":s[1]||(s[1]=I=>v.title=I),class:"form-input",placeholder:"What is the task?",onKeydown:[s[2]||(s[2]=Ft(Qe(I=>w.create(),["stop","prevent"]),["enter"])),s[3]||(s[3]=Ft(Qe((...I)=>w.cancel&&w.cancel(...I),["stop","prevent"]),["esc"]))]},null,544),[[ot,v.title]])]),vo,h("div",bo,[h("button",{class:"button primary w-full",disabled:!v.title,onClick:s[4]||(s[4]=(...I)=>w.create&&w.create(...I))},"Create",8,yo)])])}var wo=it(co,[["render",xo]]);const Co={components:{BoardCard:so,NewCard:wo,Container:an,Draggable:sn},props:{board:{type:Object,required:!0},list:{type:Object,required:!0}},data(){return{collapsed:!1,newCard:null,cardDropPlaceholderOptions:{className:"my-2 mr-4 border-2 border-neutral-600 border-dashed text-neutral-600 rounded-md",animationDuration:"150",showOnTop:!0}}},computed:Y(j({},ct(X,["userIsMember"])),{cardComponentType(){return this.userIsMember?"Draggable":"div"},headerStyle(){return this.list.color?{backgroundColor:this.list.color,color:dn(this.list.color)}:{}}}),methods:Y(j({},ut(X,["changeCardPosition"])),{editList(){this.userIsMember&&this.$bus.emit("editList",{list:this.list})},newCardEditMode(c){if(this.newCard==c)return this.cancelNewCard();this.newCard=c},cancelNewCard(){this.newCard=null},async onCardDrop(c){const{removedIndex:s,addedIndex:g,payload:S}=c;s==null&&g==null||s==g||await this.changeCardPosition({list:this.list,fromIndex:s,toIndex:g,card:S})}})},Ct=c=>(Qn("data-v-1084e81f"),c=c(),Zn(),c),Eo={class:"ml-2 flex-1 cursor-default"},_o={key:0,class:"ml-1 text-sm opacity-75"},Do=Ct(()=>h("i",{class:"fa fa-plus"},null,-1)),So=[Do],Io=Ct(()=>h("i",{class:"fa fa-bars"},null,-1)),Oo=[Io],ko=Ct(()=>h("i",{class:"fa fa-chevron-left"},null,-1)),Bo=[ko],Ro=Ct(()=>h("i",{class:"fa fa-chevron-right"},null,-1)),Ao=[Ro],To={key:0},Po={class:"flex-1 flex justify-center items-center"},Lo=Ct(()=>h("i",{class:"fa fa-plus mr-2"},null,-1)),No={class:"text-sm"},zo={key:1},jo={key:1,class:"list-header rotate-180 font-title text-lg text-shadow",style:{"writing-mode":"tb-rl"}},Mo={class:"mb-2 mr-1 flex flex-nowrap items-center cursor-default"},$o={key:0,class:"mt-2 text-sm opacity-75"};function Vo(c,s,g,S,v,w){const I=H("new-card"),_=H("BoardCard"),N=H("Container");return O(),B("div",{class:Jn(["h-full flex-shrink-0 bg-panel rounded-md border border-neutral-600 flex flex-col transition-all",{"w-10":v.collapsed,"min-w-0":v.collapsed,"w-list":!v.collapsed,"min-w-list":!v.collapsed}])},[h("div",{class:"list-header flex items-center bg-primary-600 rounded-t-md p-2 font-title text-lg text-shadow",style:le(w.headerStyle),onDblclick:s[4]||(s[4]=(...R)=>w.editList&&w.editList(...R))},[v.collapsed?(O(),B("button",{key:1,class:"button flat small -ml-1.5",onClick:s[3]||(s[3]=R=>v.collapsed=!1)},Ao)):(O(),B(rt,{key:0},[h("span",Eo,[Ze(L(g.list.title)+" ",1),g.list.cards.total>0?(O(),B("span",_o,"("+L(g.list.cards.total)+")",1)):M("",!0)]),c.userIsMember?(O(),B(rt,{key:0},[h("button",{class:"button flat small",onClick:s[0]||(s[0]=R=>w.newCardEditMode("top",g.list))},So),h("button",{class:"button flat small",onClick:s[1]||(s[1]=(...R)=>w.editList&&w.editList(...R))},Oo)],64)):M("",!0),h("button",{class:"button flat small",onClick:s[2]||(s[2]=R=>v.collapsed=!0)},Bo)],64))],36),v.collapsed?(O(),B("div",jo,[h("span",Mo,[Ze(L(g.list.title)+" ",1),g.list.cards.total>0?(O(),B("span",$o,"("+L(g.list.cards.total)+")",1)):M("",!0)])])):(O(),ft(N,{key:0,class:"p-2 flex-grow overflow-y-auto overflow-x-hidden",orientation:"vertical","group-name":"card","drag-class":"card-ghost","drop-class":"card-ghost-drop","drop-placeholder":v.cardDropPlaceholderOptions,"get-child-payload":R=>g.list.cards.rows[R],onDrop:w.onCardDrop},{default:Q(()=>[c.userIsMember&&v.newCard=="top"?(O(),B("div",To,[Z(I,{list:g.list,"position-type":v.newCard,onCancel:w.cancelNewCard},null,8,["list","position-type","onCancel"])])):M("",!0),(O(!0),B(rt,null,Ht(g.list.cards.rows,R=>(O(),ft(tn(w.cardComponentType),{key:R.id},{default:Q(()=>[Z(_,{card:R,list:g.list,board:g.board},null,8,["card","list","board"])]),_:2},1024))),128)),c.userIsMember?(O(),B(rt,{key:1},[v.newCard?v.newCard=="bottom"?(O(),B("div",zo,[Z(I,{list:g.list,"position-type":v.newCard,onCancel:w.cancelNewCard},null,8,["list","position-type","onCancel"])])):M("",!0):(O(),B("div",{key:0,class:"h-10 my-2 text-neutral-500 rounded-md flex justify-center items-center hover:text-neutral-400 transition-colors cursor-pointer",onClick:s[5]||(s[5]=R=>w.newCardEditMode("bottom",g.list))},[h("div",Po,[Lo,h("span",No,L(c.$t("NewCard")),1)])]))],64)):M("",!0)]),_:1},8,["drop-placeholder","get-child-payload","onDrop"]))],2)}var Fo=it(Co,[["render",Vo],["__scopeId","data-v-1084e81f"]]);const Ho={components:{BoardList:Fo,Container:an,Draggable:sn},props:{board:{type:Object,required:!0}},data(){return{listDropPlaceholderOptions:{className:"ml-4 border-2 border-neutral-600 border-dashed text-neutral-600 rounded-md",animationDuration:"150",showOnTop:!0}}},computed:Y(j({},ct(X,["userIsMember"])),{listComponentType(){return this.userIsMember?"Draggable":"div"}}),methods:Y(j({},ut(X,["changeListPosition"])),{async onListDrop(c){const{removedIndex:s,addedIndex:g}=c;s==null&&g==null||s==g||await this.changeListPosition({fromIndex:s,toIndex:g})}})},Xo={class:"flex-1 text-center"},Go=h("i",{class:"fa fa-plus text-xl"},null,-1),qo={class:"text-sm"};function Uo(c,s,g,S,v,w){const I=H("BoardList"),_=H("Container");return O(),ft(_,{class:"flex-1 mx-4 h-full pb-4 flex overflow-x-auto gap-x-4","group-name":"list",orientation:"horizontal","drag-handle-selector":".list-header","drop-placeholder":v.listDropPlaceholderOptions,"get-child-payload":N=>g.board.lists.rows[N],onDrop:w.onListDrop},{default:Q(()=>[(O(!0),B(rt,null,Ht(g.board.lists.rows,N=>(O(),ft(tn(w.listComponentType),{key:N.id,class:""},{default:Q(()=>[Z(I,{list:N,board:g.board},null,8,["list","board"])]),_:2},1024))),128)),c.userIsMember?(O(),B("div",{key:0,class:"w-list min-w-list h-20 mx-2 border-2 border-neutral-500 border-dashed text-neutral-500 rounded-md flex justify-center items-center hover:border-neutral-400 hover:text-neutral-400 transition-colors",onClick:s[0]||(s[0]=N=>c.$bus.emit("newList"))},[h("div",Xo,[Go,h("div",qo,L(c.$t("NewList")),1)])])):M("",!0)]),_:1},8,["drop-placeholder","get-child-payload","onDrop"])}var Yo=it(Ho,[["render",Uo]]);const Wo={components:{KDialog:nn},data(){return{visible:!1,pageTitle:"",list:{boardId:null,title:"",description:"",color:null},boardId:null}},methods:Y(j({},ut(X,["createList","updateList","removeList"])),{show({list:c,boardId:s}){c?(this.pageTitle=this.$t("EditList"),this.list=en.exports.cloneDeep(c)):(this.pageTitle=this.$t("NewList"),this.list={boardId:s,title:"",description:"",color:null}),this.boardId=s,this.visible=!0,this.$nextTick(()=>this.$refs.mainInput.focus())},async remove(){await this.removeList({id:this.list.id}),this.close()},colorCheckboxInput(c){c.target.checked?this.list.color="#000":this.list.color=null},close(){this.visible=!1},async save(){this.list.id?await this.updateList({id:this.list.id,title:this.list.title,description:this.list.description,color:this.list.color,board:this.boardId}):await this.createList({board:this.boardId,title:this.list.title,description:this.list.description,color:this.list.color}),this.close()}})},Ko={class:"form-element"},Jo={class:"block mb-1"},Qo={class:"mt-3 form-element"},Zo={class:"block mt-2 mb-1"},tr={class:"mt-3 form-option"},er=["value"],nr={for:"custom-color-checkbox"},or={key:0,class:"ml-5 mt-2"},rr={class:"flex justify-between items-center my-4"},ir={class:"space-x-3"},lr={key:0},ar=["title"],sr=h("i",{class:"fa fa-trash"},null,-1),dr=[sr];function cr(c,s,g,S,v,w){const I=H("k-dialog");return O(),ft(I,{modelValue:v.visible,"onUpdate:modelValue":s[8]||(s[8]=_=>v.visible=_),title:v.pageTitle},{default:Q(()=>[h("div",Ko,[h("label",Jo,L(c.$t("Title")),1),nt(h("input",{ref:"mainInput","onUpdate:modelValue":s[0]||(s[0]=_=>v.list.title=_),type:"text",class:"form-input",onKeydown:s[1]||(s[1]=Ft((..._)=>w.save&&w.save(..._),["enter"]))},null,544),[[ot,v.list.title]])]),h("div",Qo,[h("label",Zo,L(c.$t("Description")),1),nt(h("input",{"onUpdate:modelValue":s[2]||(s[2]=_=>v.list.description=_),type:"text",class:"form-input"},null,512),[[ot,v.list.description]])]),h("div",tr,[h("input",{id:"custom-color-checkbox",value:v.list.color!=null,type:"checkbox",onInput:s[3]||(s[3]=_=>w.colorCheckboxInput(_))},null,40,er),h("label",nr,L(c.$t("UseCustomColor")),1)]),v.list.color!=null?(O(),B("div",or,[nt(h("input",{"onUpdate:modelValue":s[4]||(s[4]=_=>v.list.color=_),type:"color",class:"h-8 w-16 rounded"},null,512),[[ot,v.list.color]])])):M("",!0)]),actions:Q(()=>[h("div",rr,[h("div",ir,[h("button",{class:"button primary",onClick:s[5]||(s[5]=_=>w.save())},L(c.$t("Ok")),1),h("button",{class:"button flat",onClick:s[6]||(s[6]=_=>w.close())},L(c.$t("Cancel")),1)]),v.list.id?(O(),B("div",lr,[h("button",{class:"button danger",title:c.$t("Remove"),onClick:s[7]||(s[7]=_=>w.remove())},dr,8,ar)])):M("",!0)])]),_:1},8,["modelValue","title"])}var ur=it(Wo,[["render",cr]]);const fr={components:{KDialog:nn},data(){return{visible:!1,list:null,card:null,predefinedColors:["#3cb500","#fad900","#ff9f19","#eb4646","#a632db","#0079bf","#00c2e0","#51e898","#ff78cb","#4d4d4d","silver","#ffdab9","#dc143c","plum","#006400","#6a5acd","gold","navy","#8b4513","#afeeee","#ffe4e1","indigo"]}},methods:Y(j({},ut(X,["updateCard","removeCard"])),{show({list:c,card:s}){this.list=c,this.card=en.exports.cloneDeep(s),this.visible=!0,this.$nextTick(()=>this.$refs.mainInput.focus())},async remove(){await this.removeCard({list:this.list,id:this.card.id}),this.close()},colorCheckboxInput(c){c.target.checked?this.card.color="#000":this.card.color=null},close(){this.visible=!1},async save(){await this.updateCard({list:this.list,input:this.card}),this.close()}})},mr={class:"form-element"},pr={class:"block mb-1"},gr={class:"mt-3 form-element"},hr={class:"block mt-2 mb-1"},vr={class:"mt-3 form-option"},br=["value","checked"],yr={for:"custom-color-checkbox"},xr={key:0,class:"ml-5 mt-2"},wr={class:"mb-2 flex flex-wrap"},Cr=["onClick"],Er={class:"flex justify-between items-center my-4"},_r={class:"space-x-3"},Dr={key:0},Sr=["title"],Ir=h("i",{class:"fa fa-trash"},null,-1),Or=[Ir];function kr(c,s,g,S,v,w){const I=H("k-dialog");return O(),ft(I,{modelValue:v.visible,"onUpdate:modelValue":s[8]||(s[8]=_=>v.visible=_),title:c.$t("EditCard")},{default:Q(()=>[h("div",mr,[h("label",pr,L(c.$t("Title")),1),nt(h("input",{ref:"mainInput","onUpdate:modelValue":s[0]||(s[0]=_=>v.card.title=_),type:"text",class:"form-input",onKeydown:s[1]||(s[1]=Ft((..._)=>w.save&&w.save(..._),["enter"]))},null,544),[[ot,v.card.title]])]),h("div",gr,[h("label",hr,L(c.$t("Description")),1),nt(h("input",{"onUpdate:modelValue":s[2]||(s[2]=_=>v.card.description=_),type:"text",class:"form-input"},null,512),[[ot,v.card.description]])]),h("div",vr,[h("input",{id:"custom-color-checkbox",value:v.card.color!=null,checked:v.card.color!=null,type:"checkbox",onInput:s[3]||(s[3]=_=>w.colorCheckboxInput(_))},null,40,br),h("label",yr,L(c.$t("UseCustomColor")),1)]),v.card.color!=null?(O(),B("div",xr,[h("div",wr,[(O(!0),B(rt,null,Ht(v.predefinedColors,_=>(O(),B("div",{key:_,class:"rounded w-10 h-6 m-1 border border-neutral-900",style:le("background: "+_),onClick:N=>v.card.color=_},null,12,Cr))),128))]),nt(h("input",{"onUpdate:modelValue":s[4]||(s[4]=_=>v.card.color=_),type:"color",class:"h-8 w-16 rounded"},null,512),[[ot,v.card.color]])])):M("",!0)]),actions:Q(()=>[h("div",Er,[h("div",_r,[h("button",{class:"button primary",onClick:s[5]||(s[5]=_=>w.save())},L(c.$t("Ok")),1),h("button",{class:"button flat",onClick:s[6]||(s[6]=_=>w.close())},L(c.$t("Cancel")),1)]),v.card.id?(O(),B("div",Dr,[h("button",{class:"button danger",title:c.$t("Remove"),onClick:s[7]||(s[7]=_=>w.remove())},Or,8,Sr)])):M("",!0)])]),_:1},8,["modelValue","title"])}var Br=it(fr,[["render",kr]]);const Rr={components:{EditBoardDialog:eo,EditListDialog:ur,EditCardDialog:Br,Board:Yo},props:{id:{type:String,default:null}},computed:j(j(j({},ct(no,["user"])),ct(X,["board"])),ct(X,["userIsMember"])),watch:{async id(){this.id&&await this.selectBoardById(this.id)}},async mounted(){this.id&&await this.selectBoardById(this.id)},events:{newList(){var c;(c=this.$refs.editListDialog)==null||c.show({list:null,boardId:this.id})},editList({list:c}){var s;(s=this.$refs.editListDialog)==null||s.show({list:c})},editCard({list:c,card:s}){var g;(g=this.$refs.editCardDialog)==null||g.show({list:c,card:s})}},methods:Y(j({},ut(X,["selectBoardById"])),{editBoard(){this.$refs.editBoardDialog.show(this.board)},showListDialog(c){this.$refs.editListDialog.show({boardId:this.id,list:c})}})},Ar={key:0,class:"flex-1 h-full flex flex-col overflow-y-hidden"},Tr={class:"m-4 flex"},Pr=h("i",{class:"fa fa-pencil"},null,-1),Lr=[Pr],Nr=h("div",{class:"flex-1"},null,-1),zr=h("div",{class:"w-10 h-10 rounded-full border-2 border-panel drop-shadow flex justify-center items-center transition-colors hover:border-text text-neutral-500 hover:text-text cursor-pointer"},[h("i",{class:"fa fa-user-plus"})],-1),jr={class:"ml-6 flex flex-row-reverse"},Mr=["src","title","alt"];function $r(c,s,g,S,v,w){const I=H("Board",!0),_=H("edit-board-dialog"),N=H("edit-list-dialog"),R=H("edit-card-dialog");return c.board?(O(),B("div",Ar,[h("div",Tr,[h("h3",null,L(c.board.title),1),c.userIsMember?(O(),B("button",{key:0,class:"button flat text-neutral-500 hover:text-text",onClick:s[0]||(s[0]=$=>w.editBoard())},Lr)):M("",!0),Nr,zr,h("div",jr,[(O(!0),B(rt,null,Ht(c.board.members,$=>(O(),B("div",{key:$.id,class:"-ml-5 hover:ml-0 transition-all"},[h("img",{class:"w-10 h-10 rounded-full border-2 border-panel drop-shadow",src:$.avatar,title:$.fullName+" ("+$.username+")",alt:$.fullName},null,8,Mr)]))),128))])]),Z(I,{board:c.board},null,8,["board"]),Z(_,{ref:"editBoardDialog"},null,512),Z(N,{ref:"editListDialog"},null,512),Z(R,{ref:"editCardDialog"},null,512)])):M("",!0)}var Xr=it(Rr,[["render",$r]]);export{Xr as default};
