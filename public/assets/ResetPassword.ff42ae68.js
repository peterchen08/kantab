var c=Object.defineProperty,h=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var f=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var l=(s,e,o)=>e in s?c(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,u=(s,e)=>{for(var o in e||(e={}))f.call(e,o)&&l(s,o,e[o]);if(d)for(var o of d(e))b.call(e,o)&&l(s,o,e[o]);return s},m=(s,e)=>h(s,w(e));import{A as v}from"./auth.mixin.0a2474ce.js";import{v as y,o as r,k as a,s as t,t as p,p as n,G as g,z as k,A as $,E as _,q as P}from"./vendor.bd38f07c.js";import{_ as q,a as A}from"./index.3aeb53d5.js";const M={mixins:[v],mounted(){this.$route.query.token||(this.error="Missing token.")},methods:m(u({},y(A,["resetPassword"])),{async process(){await this.resetPassword({token:this.$route.query.token,password:this.password}),this.success="Password changed. Logging in...",setTimeout(()=>this.$router.push({name:"home"}),1e3)}})},j=t("h3",{class:"my-4"},"Reset Password",-1),B={key:0,class:"alert bg-negative mb-2"},N={key:1,class:"alert bg-positive mb-2"},R={class:"form-element no-label mt-2"},S=t("i",{class:"icon fa fa-key"},null,-1),V={class:"mt-4 w-full"};function z(s,e,o,C,D,E){return r(),a("div",null,[j,t("form",{onSubmit:e[1]||(e[1]=P((...i)=>s.submit&&s.submit(...i),["prevent"]))},[s.error?(r(),a("div",B,p(s.error),1)):n("",!0),s.success?(r(),a("div",N,p(s.success),1)):n("",!0),s.$route.query.token?(r(),a(g,{key:2},[t("div",R,[k(t("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>s.password=i),type:"password",name:"password",placeholder:"New password",class:"pr-8"},null,512),[[$,s.password]]),S]),t("div",V,[t("button",{type:"submit",class:_(["button primary w-full",{loading:s.processing}])}," Reset Password ",2)])],64)):n("",!0)],32)])}var U=q(M,[["render",z]]);export{U as default};
